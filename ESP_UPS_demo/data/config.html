<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="fs_wifi_link_tool" content="width=device-width,initial-scale=1">
	<style>


.ball-grid-pulse{width:200px}.ball-grid-pulse>div:nth-child(1){-webkit-animation-delay:-0.06s;animation-delay:-0.06s;-webkit-animation-duration:.72s;animation-duration:.72s}.ball-grid-pulse>div:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s;-webkit-animation-duration:1.02s;animation-duration:1.02s}.ball-grid-pulse>div:nth-child(3){-webkit-animation-delay:-0.17s;animation-delay:-0.17s;-webkit-animation-duration:1.28s;animation-duration:1.28s}.ball-grid-pulse>div:nth-child(4){-webkit-animation-delay:.48s;animation-delay:.48s;-webkit-animation-duration:1.42s;animation-duration:1.42s}.ball-grid-pulse>div:nth-child(5){-webkit-animation-delay:.31s;animation-delay:.31s;-webkit-animation-duration:1.45s;animation-duration:1.45s}.ball-grid-pulse>div:nth-child(6){-webkit-animation-delay:.03s;animation-delay:.03s;-webkit-animation-duration:1.18s;animation-duration:1.18s}.ball-grid-pulse>div:nth-child(7){-webkit-animation-delay:.46s;animation-delay:.46s;-webkit-animation-duration:.87s;animation-duration:.87s}.ball-grid-pulse>div:nth-child(8){-webkit-animation-delay:.78s;animation-delay:.78s;-webkit-animation-duration:1.45s;animation-duration:1.45s}.ball-grid-pulse>div:nth-child(9){-webkit-animation-delay:.45s;animation-delay:.45s;-webkit-animation-duration:1.06s;animation-duration:1.06s}.ball-grid-pulse>div{background-color:#ebadbe;width:50px;height:50px;border-radius:100%;margin:2px;-webkit-animation-fill-mode:both;animation-fill-mode:both;display:inline-block;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-delay:0;animation-delay:0}@-webkit-keyframes ball-grid-pulse{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(0.5);transform:scale(0.5);opacity:.7}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes ball-grid-pulse{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(0.5);transform:scale(0.5);opacity:.7}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}body{color:#434343;font-family:"SF Pro Text","SF Pro Icons","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:10px;line-height:1.42857142857143;padding:20px}a{text-decoration:none}input:focus,button:focus{outline:0}#container{margin:0 auto;max-width:350px}#scan-btn{display:block;background:#d0d3d4;border:0;border-radius:25px;cursor:pointer;font-size:18px;height:45px;line-height:45px;margin:18px auto;padding:0 30px}#reboot-btn{display:block;background:#d0d3d4;border:0;border-radius:25px;cursor:pointer;font-size:18px;height:45px;line-height:45px;margin:18px auto;padding:0 30px}#ssid-list{margin-top:20px;box-sizing:border-box;border-radius:18px;width:100%;background:#f4f6f6}#ssid-list>li{line-height:32px;position:relative;cursor:pointer;display:block;padding:8px 15px}#ssid-list>li:first-child{border-top:0;border-top-left-radius:20px;border-top-right-radius:20px}#ssid-list>li:last-child{border-bottom-left-radius:20px;border-bottom-right-radius:20px}#ssid-list>li:hover{background:#d0d3d4}.wifi-logo{position:absolute;top:14px;height:18px}.encrytype{color:#999;display:inline-block;z-index:1;position:absolute;right:16px}.ssid_name{margin-left:34px;font-size:16px}#secondary-menu{display:none;width:300px;height:180px;position:fixed;top:180px;left:calc(50% - 150px);background:#f4f6f6;border-radius:25px;text-align:center}#secondary-menu-ssid{margin-top:12px;font-size:20px;display:inline-block}#key-icon{position:absolute;left:30px;top:75px;width:25px}#wifi-pass{margin-top:25px;width:260px;height:40px;font-size:18px;border:0;border-radius:25px;text-align:center}#wifi-pass-sub{width:100px;height:40px;border:0;border-radius:25px;background:#d0d3d4;line-height:18px;margin:18px 5px 0 5px;font-size:18px;opacity:.6}#secondary-menu-back{cursor:pointer;position:absolute;top:18px;left:18px;font-family:Consolas;font-size:16px;width:13px;height:13px;line-height:30px;border-top:3px solid #a1a1a1;border-left:3px solid #a1a1a1;transform:rotate(-45deg)}#status{display:none;margin-top:50px;font-size:28px;text-align:center}function echo(stringA,stringB){var hello="你好";alert("hello world")}
	</style>
<style>html, * {-webkit-user-select:text!important; -moz-user-select:text!important;}</style></head>

<body>
	<h1 style="text-align:center;font-size:40px;">WiFi配置</h1>
	<p style="color:#999;text-align: center;">仓库地址 :github.com/bilibilifmk/wifi_link_tool</p>
    <p style="color:#999;text-align: center;">当前设备类型 :ESP8266EX 仅支持2.4G</p>
	<div id="container">
		<button onclick="scan()" id="scan-btn">扫描WIFI</button>
		
		<div id="ssid-list"></div>
	</div>
	<div id="secondary-menu">
		<div id="secondary-menu-back" onclick="back()"></div>
		<div id="secondary-menu-ssid"></div>
		<img id="key-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAATlBMVEVHcEzX0tEcHBxQUE0JCQpBQkFSOhIDAgIaEgwlJCNua21VVFU2NDSfnZ0zMzOQkI3qowbVlQ71rBDingh6VR/lpSeSaRyqeho2JhXHjh15Vp8lAAAAEHRSTlMAGmi/6yL+/v3OaaDxP8N7JJi/XQAAAXxJREFUOMuN1YluwyAMAFBoAnbOcSQc//+jM5C0lQZhliq1ypMNxjSMvYNvQmycdYLP+4oAYV3Eo5uTKoHDA12I4eG8d5K+jXPLDcTcaXLEg3405AIgtVHWqvQxHiFsNbfRg9MoyqZSWOMB1trud8BITrtYpDIOoFJcIBzkKA34O2eA6S98AaRUIXVGK5shpRSVLYeTnuY+6pJRxVrtCSRBQ11JSyhQI7wakBYpnUmVbQvuBeb22LxGVYfXGr+isca57PoipZFHbdelj98JraL2TNWRiMZ+6iZ51GQ6a/0trdVnVdI0hnhNTy5tdUumebRlHq3JsJ0TUDoKif5Rbvv7zsCzZPOyBsQwjQB0lFq3JeNcCM5ElrTWB3kdAMkgg1P/kjRySvflsOfZ7FdnbATpndexK3P1oPvVRxjTXbO3fDWXKWioMJ5nltiGZfqkDJ6Sxme4w92lDvwZlgHpkOgGPcMUK3WJ/jS7kK/3RHUhjjm6pe+XBO++LD7xCyeFJi1gbDaNAAAAAElFTkSuQmCC">
		<input type="text" id="wifi-pass" oninput="pass_change()">
		<button id="wifi-pass-sub" onclick="connect()" disabled="">连接</button>
	</div>
	<div id="status">      
		<div class="loader-inner ball-grid-pulse" style="margin: 0 auto;">
		  <div></div>
		  <div></div>
		  <div></div>
		  <div></div>
		  <div></div>
		  <div></div>
		  <div></div>
		  <div></div>
		  <div></div>
		</div>
</div>

<script>

function $(id){return document.getElementById(id)}function reboot(){var xmlhttp;if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){if(xmlhttp.responseText!=""){window.open("http://"+xmlhttp.responseText)}}};xmlhttp.open("GET","/opera?opera=reboot");xmlhttp.send()}function scan(){$("scan-btn").setAttribute("disabled","disabled");$("scan-btn").style.cursor="default";$("scan-btn").style.opacity="0.6";$("ssid-list").innerHTML="";$("ssid-list").style.display="none";$("status").style.display="block";var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){$("scan-btn").style.cursor="pointer";$("scan-btn").style.opacity="1";$("ssid-list").style.display="block";$("status").style.display="none";res_json=JSON.parse(xmlhttp.responseText);var i,j,max;for(i=0;i<res_json.req.length;i++){max=0;for(j=0;j<res_json.req.length;j++){if(res_json.req[max].rssi<res_json.req[j].rssi){max=j}}var para=document.createElement("li");para.id="ssid"+i;para.setAttribute("onclick","ssid_select('"+para.id+"')");if(res_json.req[max].rssi>=-45){para.innerHTML+="<img class='wifi-logo' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAArBAMAAADWAfZiAAAAIVBMVEVkZGRHcEzj4+N4eHisrKySkpJ4eHiXl5eHh4eAgIBqamownJsxAAAACnRSTlP+ABXfPZL6ZK/JavXHrwAAAeVJREFUOMt9k8tPAjEQxichMdpbyxIft4rP2wo+uUFQzqj44GSibtSbhojxZoyKnNRED542IUTcv9KZtstugbWnbn+dzjff7AC3lpTS+oZoKypH+Xx+q9aQI7DY/gp8oBVc7g9h51Eztdha0caLBbDW700cL7omLAgM71xHePJEsdNWs9Fsvno+MIwvhth5U/dfTMK5O5WpJw2+B7x/UYzKcQ6In2m8TJo3LDvEHiWrEhZvmGojPA9v3ZJ8wju46UqdtLV+2tISRB2PVzg4qDpFJ+LuytR0SJcdF1hKgnBVEu48R6YomUsYJoFnoUu0HTetR7wOOZJWwL1o26ae4/uZjqTC5pRQrI5t1hqVGvWGwSoelkLPMz6e/e6bzpJpLOY5b4f5tGnf+Dke4WmLEmfA3vt4wZTOy+VyybTQz/WxcNkHBR17fuB90sVlrDnKnaXSJ7/1/6Q63c7FpImqEaQ5FS0HfuR6ZMrP8I88RS8HnheYTttY0A910ZidrVBrekPY1Ubj7oAZ2fHHszBhjMFO54aHyH3oy+gHx5TP0zgcPdETu6MmFI0pAOsUEwaYSsfqukk4o+esmoDTjLC/koCFmtOUTMo9E47WaMwxfCxZOU9DZNgIzN0J+R/O2sGDWMh/8eD6A1I5i3duz7rVAAAAAElFTkSuQmCC'>"}else{if(res_json.req[max].rssi>=-60){para.innerHTML+="<img class='wifi-logo' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAsCAMAAAAO9CvbAAAAP1BMVEVHcEzf39/R0dHu7u52dnaJiYmAgIBmZmbc3Nza2tqSkpKXl5elpaXd3d3g4ODe3t5xcXHe3t7d3d3d3d1iYmIxMAOHAAAAE3RSTlMAiTAN/LXT/v0akWpOY0W54NjrSWdzrwAAAjFJREFUSMe1lokWoyAMRcsmsikI//+tEwIRHeu09pzJ6are8PISaV+v/xCcL6xF4PwBZxa2plxjnmd8TytbxDdkWDfkKklRv25r+IAuSOL18yVyYvxfaCdn0lu/5oOAnMItelCZt4RurSmleVSR87q8qZV1sfBI4PDRIHCQbaQCcPMXGzp3b0w1sqffTleYdW7C8hrqimNVcWpEIg/YYSBSqyjPd92gHGHr5SfyfSGLmTgsxY0JzjlvjDlbU92EhZYTe/DBeDtJqSHgRcrJ+iGfryg9N3pDIXkvQ3gldYHQGO1TVIMP2Mqcef88b9Q94aImrtP4LDo6krakSjPKlCitmzSRpQcdKHpye3fyrjSwzvIdrYtLGWOspZeBk8nsMmdWt3XgtZrkl5cQi6/mIY8p3E0vbS2t0lK58wRyp2TpJ+11eqrklrxI9e7GMw2HBOq6LXBZWlnq7p7lSmPXSjQX0QrTSr8fEN5hjEt9REvUm8wKzkxkIq8uNevAOxJjJjig3upS0tIS6G+hduthg7phYbjIG+rsmBetuvoPu6CjrtCEtdbLb3ZvKzsK1dagASt383GesjYrMGJwKxsBA0by7SdYIasnfzjmO64+Lg2DVqS9+vANW7sRr974+BULN0jvCvdWQeE0NY9+ZC1uYlra57/PgjwG88RD1sixj5XJPINtabtemw/3VHUZm+dj3SL2oQTVPzgWu2Hxl/9DTfkv6+70jyzuOo+9OtDWvP5b/AEEbikOWznHDAAAAABJRU5ErkJggg=='>"}else{if(res_json.req[max].rssi>=-75){para.innerHTML+="<img class='wifi-logo' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAArCAMAAAAT8RtjAAAAP1BMVEVHcEzs7Ozj4+NtbW3W1tbe3t7a2trd3d1lZWXf39/g4ODi4uKLi4vg4OB2dnaIiIiioqJ7e3t3d3fd3d1iYmIuIQKqAAAAE3RSTlMADh39N+BM+/21f2SCmaTKlvjg1bcnLQAAAgpJREFUSMe1lYmSrCAMRQ2rbC4t//+tAwmgjvRr7VeTUqtETm4ICQ7DnxhTQgiVr4eYNVLqrZo01gp2hxTOFExvGo1etFEfSHAGJ54MB/Itg/oXKhu5HU0TnWJ5J1/QjcD0lIasDpDPLi4KmufJ4Bi0DDHmnJFb82x+5w6Cbt9sd29U0A13V1kct2e30FvXWdxW1PQLorkQJs/Mk8WZ/Y0yAOWcAoAjn9RJXFUWX6XaZZjNSS5ZliaIY3ZISuPCBQUSWmygDGWmlFj+KpGnKarQ+IKubMtq2ZVDhdFT2uqeyVPcjWXhUA+HAqPbFXEwjU1qdePcvpepVFI3pe7C9kI2DVXEqst+hEZKqxiqQO7QgCvBK7zpC1V3QV5qLOew1ILpNrYrSdQWun1eCniTnc+iyPZRTKYh96bzDRcsxR6pn+Zk3u8nkNqr40rvC/LTysc45ovz1YtDA705DmxNpX/xGBNXLEY+ixq6+3B4TnwHx5EC4B7uHJ+KU7gRxWsEcZxv0J6UUqivlCy/zCsv/Avu6Oa5q2dlLhMzxRJfH5WnHCP3pzoScxKPfBlu0JFfTiPPb7GJXkXrFajrXNbl3o+uADlXKWvFk3r0q5w5bRX3j//OYo2tRmZ4xsJaKyXj00PlCVkqTr48jXuiYsnPxyzRuTbG5wmr2pEvw/AtHf0wfEt/q4v0f7Cf7AeBdSgaJTCRHQAAAABJRU5ErkJggg=='>"}else{para.innerHTML+="<img class='wifi-logo' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAArBAMAAADWAfZiAAAAKlBMVEXc3NxHcEzb29tkZGTe3t7g4ODq6urf39/a2trf39/i4uJ3d3eQkJCNjY3QLHilAAAADnRSTlP+AAP+lGcU10G3KtqS3sn92jQAAAIZSURBVDjLdZOxbhRBDIZd7ClcaSsZnSIaj0JIRLllKDiJ6ESXlRIRpduGIGhOiBCRikN34USVIgcK3RYRD3ASBR1KCRVPhO3Zzc1ODjc7s9/YY/8eAzbmuVmRv/0JzS9Gmu4/Fds9l6MJFnr9FWp7e677CBO75xDZLtccAu09gZa9HwVu+A4FyCpqMLtAu7PJwcFkPIy4YMI9g0elJszsJnY6Y1ZM/F13s0rqMUPctDzPSDE/0PU3Il+bnELjhUcg0lBnIppfiMbGM2Tgh7I4QS+FuMmzq6vZYYnKNZ8vBE4S7ZaETNchZclRsmV3ISsEp5fodrAoeqbHVyU6AR/DPeKm9No6SMQfoC+p4WnFhIlsJ3JZL7PCXkgkKx0uj6afx+ESKbqWRb5rdUqhs5ZiwbWoGEJ3Sm/KsF8f2PVNS2g7tMDbe1LZ9Hifm4YeS+SKVJjpR1XNrw81euMt0hRa3PgCVk6t6A1YiZ7Ddlx6NiJpRD96TNQqXVrBPVx4iwbInxaivCNsvVTZrYUnGF5zgZSMgYbOZAJeDSx8MiXa105pw7KnnUywNC4rg2pSwRtKZ8wNizB60oFuyQlGfimBt37/kaK5ojS4Ng635nm+M+LbAYywDu1NLvYYkfEuRryfm/2KfsX4UcB/l2Pyc6U7JS/39ub+k/4TnKjOfDlGfp3nP2LnNiY3b92cYHFvOyeYXNs5wchtZ/wHCeuN70G4JAkAAAAASUVORK5CYII='>"
}}}para.innerHTML+="<span class='encrytype'>"+res_json.req[max].encryptionType+"</span>"+"<span id='ssid_name"+i+"' class='ssid_name'>"+res_json.req[max].ssid+"</span>";$("ssid-list").appendChild(para);res_json.req[max].rssi=-999}$("scan-btn").removeAttribute("disabled")}};xmlhttp.open("GET","/wifiscan",true);xmlhttp.send()}var ssid_name;function ssid_select(ssid_num){ssid_name=$(ssid_num).children[2].innerHTML;$("container").style.display="none";if($(ssid_num).children[1].innerHTML=="Open"){connect()}else{$("wifi-pass-sub").setAttribute("disabled","disabled");$("secondary-menu-ssid").innerHTML=ssid_name;$("secondary-menu").style.display="block";if($("secondary-menu-ssid").offsetWidth>150){var str=$("secondary-menu-ssid").innerHTML;$("secondary-menu-ssid").innerHTML=str.substr(0,str.length-4)+"..."}$("wifi-pass").focus()}}function back(){$("secondary-menu").style.display="none";$("container").style.display="block";$("wifi-pass-sub").style.cursor="default";$("wifi-pass-sub").style.opacity="0.6";$("wifi-pass").value=""}function pass_change(){if($("wifi-pass").value.length>=8){$("wifi-pass-sub").style.cursor="pointer";$("wifi-pass-sub").style.opacity="1";$("wifi-pass-sub").removeAttribute("disabled")}else{$("wifi-pass-sub").style.cursor="default";$("wifi-pass-sub").style.opacity="0.6";$("wifi-pass-sub").setAttribute("disabled","disabled")}}function connect(){$("secondary-menu").style.display="none";$("status").style.display="block";var xmlhttp=new XMLHttpRequest();var requestString="./wificonfig?ssid="+ssid_name+"&password="+$("wifi-pass").value;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){if(xmlhttp.responseText=="0"){$("status").innerHTML="连接失败"}else{$("status").innerHTML=' <button onclick="reboot()" id="reboot-btn">配置完成重启并跳转</button> <p style="color:#999;text-align: center;"> '+"本机IP:"+xmlhttp.responseText+' </p>  <p style="color:#999;text-align: center;">--参-数-设-置--</p> <iframe  src="/"  id="myiframe" width="100%"  height="10000px"" id="win" name="win" onload="Javascript:SetWinHeight(this)" frameborder="0" scrolling="no"></iframe>'}}};xmlhttp.open("GET",requestString,true);xmlhttp.send();$("wifi-pass-sub").style.cursor="default";$("wifi-pass-sub").style.opacity="0.6";$("wifi-pass").value=""}document.onkeydown=function(event){var e=event||window.event;if(e&&e.keyCode==13&&$("wifi-pass").value.length>=8){connect()}};
</script>

</body></html>